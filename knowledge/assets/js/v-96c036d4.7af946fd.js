"use strict";(self.webpackChunkknowledge=self.webpackChunkknowledge||[]).push([[2631],{9131:(n,a,s)=>{s.r(a),s.d(a,{data:()=>e});const e={key:"v-96c036d4",path:"/web-developer/front-end/experience/",title:"经验与问题",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"excel 导出本地无法打开问题",slug:"excel-导出本地无法打开问题",children:[]},{level:2,title:"图片 403",slug:"图片-403",children:[]},{level:2,title:"canvas 图片跨域问题",slug:"canvas-图片跨域问题",children:[]},{level:2,title:"js-cookie",slug:"js-cookie",children:[]},{level:2,title:"按钮点击添加音效问题",slug:"按钮点击添加音效问题",children:[]}],filePathRelative:"web-developer/front-end/experience/README.md",git:{updatedTime:1653039634e3,contributors:[{name:"licong96",email:"licong19961204@gmail.com",commits:2},{name:"licong23@xdf.cn",email:"licong23@xdf.cn",commits:1},{name:"黎聪",email:"licong23@xdf.cn",commits:1}]}}},9466:(n,a,s)=>{s.r(a),s.d(a,{default:()=>u});var e=s(6252);const t=(0,e.uE)('<h1 id="经验与问题" tabindex="-1"><a class="header-anchor" href="#经验与问题" aria-hidden="true">#</a> 经验与问题</h1><h2 id="excel-导出本地无法打开问题" tabindex="-1"><a class="header-anchor" href="#excel-导出本地无法打开问题" aria-hidden="true">#</a> excel 导出本地无法打开问题</h2><p>文件格式出现问题，导致文件无法打开。</p><p><strong>解决方案</strong></p><p>请求参数中需要添加：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>responseType<span class="token operator">:</span> <span class="token string">&#39;blob&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="图片-403" tabindex="-1"><a class="header-anchor" href="#图片-403" aria-hidden="true">#</a> 图片 403</h2><p>在 HTML 代码的 head 中添加一句:</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>referrer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>no-referrer<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="canvas-图片跨域问题" tabindex="-1"><a class="header-anchor" href="#canvas-图片跨域问题" aria-hidden="true">#</a> canvas 图片跨域问题</h2>',10),o={href:"https://www.zhangxinxu.com/wordpress/2018/02/crossorigin-canvas-getimagedata-cors/",target:"_blank",rel:"noopener noreferrer"},p=(0,e.Uk)("解决 canvas 图片 getImageData,toDataURL 跨域问题"),c=(0,e.Wm)("h2",{id:"js-cookie",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#js-cookie","aria-hidden":"true"},"#"),(0,e.Uk)(" js-cookie")],-1),l={href:"https://www.npmjs.com/package/js-cookie",target:"_blank",rel:"noopener noreferrer"},r=(0,e.Uk)("文档地址"),i=(0,e.uE)('<p>需要设置<code>expires</code>，如果省略，cookie 将成为会话 cookie。</p><h2 id="按钮点击添加音效问题" tabindex="-1"><a class="header-anchor" href="#按钮点击添加音效问题" aria-hidden="true">#</a> 按钮点击添加音效问题</h2><p><strong>问题：</strong> 点击按钮播放音效，在手机上，首次点击播放有效，再次点击播放无效。</p><p><strong>解决方案：</strong> 监听每次音频播放，播放完成之后，执行对音频执行<code>load()</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> btnAudio <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span>\n  <span class="token string">&#39;https://hzxdf-hr.oss-cn-hangzhou.aliyuncs.com/nb_bonus/2022-05-18/0b27ab3bd68142e593ab4aee0f60b990.mp3&#39;</span>\n<span class="token punctuation">)</span>\nbtnAudio<span class="token punctuation">.</span><span class="token function-variable function">onended</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// 处理手机无法重复播放的问题，每次播完都重新设置</span>\n  btnAudio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\nbtnAudio<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>',5),u={render:function(n,a){const s=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.j4)(e.HY,null,[t,(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("a",o,[p,(0,e.Wm)(s)])])]),c,(0,e.Wm)("p",null,[(0,e.Wm)("a",l,[r,(0,e.Wm)(s)])]),i],64)}}}}]);
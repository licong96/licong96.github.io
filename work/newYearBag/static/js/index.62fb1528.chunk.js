(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t){},110:function(e,t){},345:function(e,t,a){},347:function(e,t,a){},349:function(e,t,a){},351:function(e,t,a){},353:function(e,t,a){},355:function(e,t,a){},357:function(e,t,a){},359:function(e,t,a){},361:function(e,t,a){},363:function(e,t,a){},365:function(e,t,a){},367:function(e,t,a){},369:function(e,t,a){},371:function(e,t,a){},373:function(e,t,a){},375:function(e,t,a){},377:function(e,t,a){},379:function(e,t,a){},381:function(e,t,a){},383:function(e,t,a){},385:function(e,t,a){},387:function(e,t,a){},389:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n,r,i,o,c,s=a(0),l=a.n(s),u=a(146),m=a.n(u),p=a(20),h=a(10),d=a(149),f=a(8),g=a(11),v=a(395),b=Object(v.a)((n={},Object(f.a)(n,"SAVE_USER_COOKIE",function(e,t){var a=t.payload;return Object(g.a)({},e,{userCookie:a})}),Object(f.a)(n,"SAVE_LOCALHOST_SEARCH",function(e,t){var a=t.payload;return Object(g.a)({},e,{localhostSearch:a})}),Object(f.a)(n,"UPDATE_GAMER_INFO",function(e,t){var a=t.payload;return Object(g.a)({},e,{gamerInfo:Object(g.a)({},e.gamerInfo,a)})}),Object(f.a)(n,"UPDATE_JoinType",function(e,t){var a=t.payload;return Object(g.a)({},e,{joinType:a})}),Object(f.a)(n,"UPDATE_MODAL",function(e,t){var a=t.payload;return Object(g.a)({},e,{modal:Object(g.a)({},e.modal,a)})}),Object(f.a)(n,"UPDATE_LOADER",function(e,t){var a=t.payload;return Object(g.a)({},e,{isLoader:a})}),Object(f.a)(n,"SAVE_DATE_TIME",function(e,t){var a=t.payload;return Object(g.a)({},e,{dateTime:Object(g.a)({},e.dateTime,a)})}),n),{userCookie:{},localhostSearch:{resource:1},gamerInfo:{},joinType:1,isLoader:!1,modal:{isRule:!1,isShare:!1,isShareSuccess:!1,isShareOnline:!1,isGamePop:!1,isGameNot:!1,isGameOver:!1,typeGameOver:"over"},dateTime:{currentTime:0,endTime:155059194e4}}),y=Object(v.a)((r={},Object(f.a)(r,"SAVE_GAME_START",function(e,t){var a=t.payload;return Object(g.a)({},e,{gameStartState:a})}),Object(f.a)(r,"SAVE_USER_QTY",function(e,t){var a=t.payload;return Object(g.a)({},e,{userQty:a})}),Object(f.a)(r,"SAVE_USER_POINT",function(e,t){var a=t.payload;return Object(g.a)({},e,{userPoint:a})}),Object(f.a)(r,"SAVE_USER_IS_SHARE",function(e,t){var a=t.payload;return Object(g.a)({},e,{isShare:a})}),Object(f.a)(r,"SAVE_USER_SHARE_NUM",function(e,t){var a=t.payload;return Object(g.a)({},e,{shareNum:a.num})}),Object(f.a)(r,"RECORD_IS_SENIOR_ENTER",function(e,t){var a=t.payload;return Object(g.a)({},e,{isSeniorEnter:a})}),r),{gameStartState:{},userQty:{qty:0,ttlQty:0},userPoint:{},shareNum:0,isShare:!1,isSeniorEnter:!1}),E=Object(v.a)((i={},Object(f.a)(i,"UPDATE_RANK_LIST",function(e,t){var a=t.payload;return Object(g.a)({},e,{listData:a})}),Object(f.a)(i,"UPDATE_RANK_USER",function(e,t){var a=t.payload;return Object(g.a)({},e,{userData:a})}),i),{listData:{},userData:{}}),S=Object(v.a)((o={},Object(f.a)(o,"UPDATE_CODE",function(e,t){var a=t.payload;return Object(g.a)({},e,{code:a})}),Object(f.a)(o,"UPDATE_MGM",function(e,t){var a=t.payload;return Object(g.a)({},e,{mgm:a})}),o),{mgm:{},code:{}}),k=Object(h.c)({homeState:b,canvasState:y,seniorityState:E,infoState:S}),O=[d.a],N=(c=k,function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d;return Object(h.e)(c,e,t(h.a.apply(void 0,O)))}),w=(a(160),a(345),a(14)),j=a(15),T=a(16),R=a(17),_=a(7),x=(a(347),a(396)),C=a(397),P=a(22),L=a.n(P),D=a(44),A=function(e){return{type:"SAVE_USER_COOKIE",payload:e}},B=function(e){return{type:"UPDATE_GAMER_INFO",payload:e}},G=function(e){return{type:"UPDATE_JoinType",payload:e}},M=function(e){return{type:"UPDATE_MODAL",payload:e}},H=function(e){return{type:"UPDATE_LOADER",payload:e}},I=function(e){return{type:"SAVE_DATE_TIME",payload:e}},U=function(e,t,a){return function(){var n=Object(D.a)(L.a.mark(function n(r){var i;return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,"".GetGamerInfo(e);case 2:2e5===(i=n.sent).code?(r(B(i.data)),"function"===typeof t&&t(i)):"function"===typeof a&&a(i);case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},F=function(e,t){return function(){var a=Object(D.a)(L.a.mark(function a(n){var r;return L.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,"".MemberShareNote(e);case 2:2e5===(r=a.sent).code&&(n({type:"SAVE_USER_IS_SHARE",payload:r.data}),"function"===typeof t&&t(r));case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},Y=function(e,t){return function(){var a=Object(D.a)(L.a.mark(function a(n){var r;return L.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,"".PutTriggerAdd(e);case 2:2e5===(r=a.sent).code&&"function"===typeof t&&t(r);case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},W=(a(349),a(351),a(353),function(e){var t=e.children;return l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modal__animation"},l.a.createElement("div",{className:"modal__box"},t)))}),V=function(e){return l.a.createElement("div",{className:"game-over"},l.a.createElement("p",{className:"text"},"\u672c\u6b21\u83b7\u5f97\uff1a",l.a.createElement("span",{className:"bold"},e.total,"\u4e2a\u798f\u888b")),l.a.createElement("p",{className:"text"},"\u7d2f\u79ef\u83b7\u5f97\uff1a",l.a.createElement("span",{className:"bold"},e.qty,"\u4e2a\u798f\u888b")),l.a.createElement("p",{className:"desc"},"\u63a5\u65b0\u5e74\u798f\u888b\u5fc3\u60f3\u4e8b\u6210\uff0c\u62a2\u514d\u8d39\u597d\u793c\u559c\u6c14\u6d0b\u6d0b"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__again",onClick:e.handlerPlayAgain})))},Q=function(e){return l.a.createElement("div",{className:"hint-expend"},l.a.createElement("p",{className:"top-text"},"\u60a8\u5f53\u524d\u79ef\u5206\u4e3a"),l.a.createElement("p",{className:"text-point"},e.currentPoints||"--"),l.a.createElement("p",{className:"desc"},"\u786e\u8ba4\u4f7f\u7528",l.a.createElement("span",{className:"bold"},"600"),"\u79ef\u5206\u518d\u73a9\u4e00\u6b21\u5417\uff1f"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__look",onClick:e.handlerConfirm}),l.a.createElement("button",{className:"btn__again",onClick:e.handlerShare})))},J=function(e){return l.a.createElement("div",{className:"hint-lack"},l.a.createElement("p",{className:"text"},"\u514d\u8d39\u6e38\u620f\u673a\u4f1a\u6709\u9650\uff0c",l.a.createElement("br",null),"\u9080\u8bf7\u597d\u53cb\u52a9\u529b\u518d\u73a9\u4e00\u6b21"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__left",onClick:e.handlerReturnHome}),l.a.createElement("button",{className:"btn__right",onClick:e.handlerShare})))},q=function(e){return l.a.createElement("div",{className:"hint-sorry"},l.a.createElement("p",{className:"top-text"},"sorry\uff0c\u60a8\u5f53\u524d\u79ef\u5206\u4e0d\u8db3600"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__look",onClick:e.handlerReturnHome}),l.a.createElement("button",{className:"btn__again",onClick:e.handlerShare})))},$=function(e){return l.a.createElement("div",{className:"hint-tomorrow"},l.a.createElement("p",{className:"top-text"},"\u60a8\u5f53\u524d\u79ef\u5206\u4e3a"),l.a.createElement("p",{className:"text-point"},e.currentPoints||"--"),l.a.createElement("p",{className:"desc"},"\u786e\u8ba4\u4f7f\u7528",l.a.createElement("span",{className:"bold"},"600"),"\u79ef\u5206\u518d\u73a9\u4e00\u6b21\u5417\uff1f"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__left",onClick:e.handlerReturnHome}),l.a.createElement("button",{className:"btn__right",onClick:e.handlerConfirm})))},z=function(e){return l.a.createElement("div",{className:"hint-end"},l.a.createElement("p",{className:"text"},"\u6e38\u620f\u673a\u4f1a\u6709\u9650",l.a.createElement("br",null),"\u7f8e\u597d\u65b0\u6625\u795d\u798f\u65e0\u9650",l.a.createElement("br",null),"\u660e\u5929\u8fd8\u6709\u514d\u8d39\u6e38\u620f\u673a\u4f1a\u7b49\u7740\u4f60"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__left",onClick:e.handlerLookSeniority}),l.a.createElement("button",{className:"btn__right",onClick:e.handlerReturnHome})))},K=function(e){return l.a.createElement("div",{className:"hint-online"},l.a.createElement("p",{className:"text"},"\u9080\u8bf7\u52a9\u529b\u6b21\u6570\u6709\u9650\uff0c\u7f8e\u597d\u65b0\u6625\u795d\u798f\u65e0\u9650",l.a.createElement("br",null),"\u660e\u65e5\u53ef\u7ee7\u7eed\u9080\u8bf7\u597d\u53cb\u52a9\u529b\u54e6~"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__left",onClick:e.handlerLookSeniority})))},X=function(e){return l.a.createElement("div",{className:"hint-expend-success"},l.a.createElement("p",{className:"top-text"},"\u5df2\u6d88\u8017600\u79ef\u5206\uff0c",l.a.createElement("br",null),"\u9a6c\u4e0a\u5f00\u73a9\u5427\uff01"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__ok",onClick:e.handlerExpendSuccess})))};function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var ee=function(e){Object(T.a)(a,e);var t=Z(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this,t=this.props.types;return l.a.createElement(W,this.props,"over"===t?l.a.createElement(V,e.props):"expend"===t?l.a.createElement(Q,e.props):"expendSuccess"===t?l.a.createElement(X,e.props):"sorry"===t?l.a.createElement(q,e.props):"lack"===t?l.a.createElement(J,e.props):"tomorrow"===t?l.a.createElement($,e.props):"end"===t?l.a.createElement(z,e.props):"online"===t?l.a.createElement(K,e.props):void 0)}}]),a}(s.Component),te=(a(355),function(e){return l.a.createElement("div",{className:"modal-share",onClick:e.handlerShareClose},l.a.createElement("div",{className:"modal__box"},l.a.createElement("p",{className:"text"},"\u70b9\u6b64\u5206\u4eab\u6e38\u620f\u81f3\u670b\u53cb\u5708\uff0c\u9080\u8bf7\u4eb2\u53cb\u4e00\u8d77",l.a.createElement("br",null),"\u8fce\u6625\u63a5\u798f\uff0c"),l.a.createElement("p",{className:"text text--red"},"\u5373\u53ef\u514d\u8d39\u53c2\u4e0e1\u6b21\u6e38\u620f\uff0c"),l.a.createElement("p",{className:"text"},"\u6bcf\u65e5\u4ec5\u96502\u6b21\u9080\u8bf7\u54e6!")))}),ae=(a(357),function(e){return l.a.createElement(W,e,l.a.createElement("img",{className:"rule__img",src:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/home/rule.png",onClick:e.handlerHideRule,alt:""}))}),ne=(a(359),function(e){return l.a.createElement("div",{className:"prompt-wrap ".concat(e.isShow?"show":"")},l.a.createElement("p",{className:"prompt__text"},e.text))}),re=(a(361),function(e){return l.a.createElement(W,e,l.a.createElement("div",{className:"modal-game-pop"},l.a.createElement("p",{className:"text"},"\u6e38\u620f\u673a\u4f1a\u6709\u9650",l.a.createElement("br",null),"\u7f8e\u597d\u65b0\u6625\u795d\u798f\u65e0\u9650",l.a.createElement("br",null),"\u660e\u5929\u8fd8\u6709\u514d\u8d39\u6e38\u620f\u673a\u4f1a\u7b49\u7740\u4f60"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__left",onClick:e.handlerLookSeniority}),l.a.createElement("button",{className:"btn__right",onClick:e.handlerClosePop}))))}),ie=(a(363),a(365),a(367),a(369),function(e){return l.a.createElement(W,e,l.a.createElement("div",{className:"hint-activity-end"},l.a.createElement("p",{className:"text"},"\u6d3b\u52a8\u5df2\u7ed3\u675f"),l.a.createElement("div",{className:"btn"},l.a.createElement("button",{className:"btn__look",onClick:e.handlerCloseEnd}))))});a(371);function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var ce=function(e){Object(T.a)(a,e);var t=oe(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={onOff:!0},n.src="https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/musics/bg.mp3",n.onOff=!0,n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.playAudio()}},{key:"playAudio",value:function(){var e=this.refs.audio,t=function t(){document.removeEventListener("WeixinJSBridgeReady",t),document.removeEventListener("YixinJSBridgeReady",t),e.play()};window.WeixinJSBridge&&e.play(),"undefined"==typeof WeixinJSBridge?document.addEventListener("WeixinJSBridgeReady",t,!1):(document.addEventListener("YixinJSBridgeReady",t,!1),e.play())}},{key:"handlerMusic",value:function(){var e=this.refs.audio;this.state.onOff?e.pause():e.play(),this.setState({onOff:!this.state.onOff})}},{key:"render",value:function(){return l.a.createElement("div",{className:"music-wrap"},l.a.createElement("i",{className:"icon-music ".concat(this.state.onOff?"open":""),onClick:this.handlerMusic.bind(this)}),l.a.createElement("audio",{ref:"audio",id:"audioBg",className:"audio",src:this.src,preload:"none",loop:!0,autoPlay:!0}))}}]),a}(s.Component),se=(a(373),function(){return l.a.createElement("section",{className:"loader-wrap"},l.a.createElement("div",{className:"loader"},l.a.createElement("div",{className:"loader-inner line-spin-fade-loader"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))))});function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var ue={UpdateModal:M,UpdateJoinType:G,MemberShareNote:F,PutTriggerAdd:Y,UpdateGamerInfo:B},me=function(e){Object(T.a)(a,e);var t=le(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"handlerHideRule",value:function(){this.props.UpdateModal({isRule:!1})}},{key:"handlerClosePop",value:function(){this.props.UpdateModal({isGamePop:!1})}},{key:"handlerShareClose",value:function(){this.props.UpdateModal({isShare:!1})}},{key:"render",value:function(){var e=this.props.modal,t=e.isRule,a=(e.isGameNot,e.isGamePop),n=e.isShare,r=(e.isShareSuccess,e.isShareOnline,this.props.isLoader);return l.a.createElement("div",{className:"basic"},l.a.createElement(ce,null),r?l.a.createElement(se,null):null,t?l.a.createElement(ae,{handlerHideRule:this.handlerHideRule.bind(this)}):null,a?l.a.createElement(re,{handlerClosePop:this.handlerClosePop.bind(this)}):null,n?l.a.createElement(te,{handlerShareClose:this.handlerShareClose.bind(this)}):null)}}]),a}(s.Component),pe=Object(p.b)(function(e){return{userCookie:e.homeState.userCookie,gamerInfo:e.homeState.gamerInfo,modal:e.homeState.modal,isLoader:e.homeState.isLoader,shareNum:e.canvasState.shareNum}},function(e){return Object(h.b)(ue,e)})(me);a(375);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var de={UpdateModal:M,UpdateJoinType:G,MemberShareNote:F,PutTriggerAdd:Y},fe=function(e){Object(T.a)(a,e);var t=he(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={isRule:!1,isGamePop:!1,isActivityEnd:!1},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handlerStartGame",value:function(){this.props.UpdateJoinType(1),this.props.history.push({pathname:"/canvas"})}},{key:"handlerShowRule",value:function(){this.setState({isRule:!0})}},{key:"handlerHideRule",value:function(){this.setState({isRule:!1})}},{key:"handlerOpenSeniority",value:function(){}},{key:"handlerGameNot",value:function(){this.props.UpdateModal({isGameNot:!1}),this.props.history.push({pathname:"/info",search:this.props.location.search})}},{key:"handlerClosePop",value:function(){this.setState({isGamePop:!1})}},{key:"handlerLookSeniority",value:function(){this.props.history.push({pathname:"/seniority",search:this.props.location.search}),this.handlerClosePop()}},{key:"handlerCloseEnd",value:function(){this.setState({isActivityEnd:!1})}},{key:"render",value:function(){var e=this,t=this.props.dateTime,a=t.currentTime,n=t.endTime;return l.a.createElement("div",{className:"home"},l.a.createElement("div",{className:"top"},l.a.createElement("button",{className:"btn btn-rule",onClick:this.handlerShowRule.bind(this)}),l.a.createElement("span",{className:"logo"}),l.a.createElement("button",{className:"btn btn-among",onClick:this.handlerOpenSeniority.bind(this)})),l.a.createElement("img",{className:"main-text",src:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/home/main.png",alt:""}),l.a.createElement("img",{className:"little-cow",src:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/home/little-cow.png",alt:""}),l.a.createElement("div",{className:"btn-wrap ".concat(a>n?"over":"")},l.a.createElement("button",{className:"btn-start",onClick:function(){return e.handlerStartGame()}}),l.a.createElement("button",{className:"btn-over"})),a>n?null:l.a.createElement("p",{className:"foot-text"},"\u70b9\u51fb\u5f00\u59cb\u6e38\u620f\uff0c\u6253\u5f00\u97f3\u4e50\u66f4\u6709\u8282\u65e5\u6c14\u6c1b\u54e6\uff01"),this.state.isRule?l.a.createElement(ae,{handlerHideRule:this.handlerHideRule.bind(this)}):null,this.state.isGamePop?l.a.createElement(re,{handlerLookSeniority:this.handlerLookSeniority.bind(this),handlerClosePop:this.handlerClosePop.bind(this)}):null,this.state.isActivityEnd?l.a.createElement(ie,{handlerCloseEnd:this.handlerCloseEnd.bind(this)}):null)}}]),a}(s.Component),ge=Object(p.b)(function(e){return{userCookie:e.homeState.userCookie,gamerInfo:e.homeState.gamerInfo,modal:e.homeState.modal,shareNum:e.canvasState.shareNum,dateTime:e.homeState.dateTime}},function(e){return Object(h.b)(de,e)})(fe);a(377),a(379);function ve(e){e.preventDefault()}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t-e;return 0===a?parseInt(Math.random()*n+e,10):Math.floor((Math.random()*n+e)*a)/a}var ye=function(e){return l.a.createElement("div",{className:"alert-game-play"},l.a.createElement("p",{className:"text"},"\u901a\u8fc7\u5de6\u53f3\u79fb\u52a8Oxford\u5c0f\u725b",l.a.createElement("br",null),"\u63a5\u6536\u4e0d\u540c\u6e38\u620f\u9053\u5177\u83b7\u5f97\u798f\u888b"),l.a.createElement("button",{className:"btn-ok",onClick:e.handlerGamePlay}))},Ee=a(45),Se=a(41),ke=30;function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var Ne={imgPerson1:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/canvas/pot-cow.png",imgFirecrackerLeft:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/firecracker-left.png",imgFirecrackerRight:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/firecracker-right.png",imgLuckyBagLeft:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/lucky-bag-left.png",imgLuckyBagRight:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/lucky-bag-right.png",imgLuckyBag2:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/lucky-bag2.png",imgBomb:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/bomb2.png",imgVipjr:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/vipjr.png?v=1",imgAdd1:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/add1.png",imgAdd2:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/add2.png",imgMinus2:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/minus2.png",imgNumber1:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/canvas/1.png",imgNumber2:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/canvas/2.png",imgNumber3:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/canvas/3.png",imgNumberGo:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/canvas/go.png"},we="https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/musics/bag2.mp3",je="https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/musics/bag3.mp3",Te="https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/musics/bag1.mp3",Re="https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/musics/firecracker2.mp3",_e="https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/musics/bomb.mp3",xe={UpdateJoinType:G,UpdateModal:M,UpdateGamerInfo:B,MemberShareNote:F},Ce=function(e){Object(T.a)(a,e);var t=Oe(a);function a(e){var n;Object(w.a)(this,a),(n=t.call(this,e)).props.onRef(Object(Se.a)(n)),n.state={countThree:-1,total:0,countDown:ke,isBomb:!1},n.isOneOver=!1,n.canvas=null,n.ctx=null,n.timeBlock=null,n.countTime=null,n.onceTime=null,n.threeTime=null;var r=function(){var e=2*window.innerWidth,t=2*window.innerHeight;n.constPerson={potWidth:240,potHeight:40,potTop:30,potOffsetLeft:40,perWidth:433,perHeight:352,perTop:t-352-50,perLeft:e/2,perStartLeft:0,perStep:10,time:null,isTouch:!1,lastPerLeft:0},n.person=Object.assign({},n.constPerson),n.touch={boxWidth:100,timeLeft:null,timeRight:null,step:4,currentLeft:0,currentTop:t-50,maxLeft:e},n.screen={innerWidth:e,innerHeight:t}};return r(Object(Se.a)(n)),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){180!==window.orientation&&0!==window.orientation||setTimeout(function(){r(Object(Se.a)(n)),n.canvas.width=n.screen.innerWidth,n.canvas.height=n.screen.innerHeight,n.drawPreson()},100)},!1),n.propertys=[{id:0,name:"\u798f\u888b-left",value:1,element:"imgLuckyBagLeft",propHint:"imgAdd1",audio:"audioBag1"},{id:1,name:"\u798f\u888b-right",value:1,element:"imgLuckyBagRight",propHint:"imgAdd1",audio:"audioBag1"},{id:2,name:"\u798f\u888b2",value:1,element:"imgLuckyBag2",propHint:"imgAdd1",audio:"audioBag2"},{id:3,name:"logo",value:2,element:"imgVipjr",propHint:"imgAdd2",audio:"audioVipjr"},{id:4,name:"\u97ad\u70ae-left",value:-2,element:"imgFirecrackerLeft",propHint:"imgMinus2",audio:"audioFirecracker"},{id:5,name:"\u97ad\u70ae-right",value:-2,element:"imgFirecrackerRight",propHint:"imgMinus2",audio:"audioFirecracker"},{id:6,name:"\u70b8\u5f39",value:0,isBomb:!0,element:"imgBomb",audio:"audioBomb"}],n.odds={imgLuckyBagLeft:Array(6).fill(0),imgLuckyBagRight:Array(6).fill(1),imgLuckyBag2:Array(6).fill(2),Vipjr:Array(3).fill(3),imgFirecrackerLeft:Array(2).fill(4),imgFirecrackerRight:Array(2).fill(5),Bomb:Array(6).fill(6)},n.probability=[].concat(Object(Ee.a)(n.odds.imgLuckyBagLeft),Object(Ee.a)(n.odds.imgLuckyBagRight),Object(Ee.a)(n.odds.imgLuckyBag2),Object(Ee.a)(n.odds.Vipjr),Object(Ee.a)(n.odds.imgFirecrackerLeft),Object(Ee.a)(n.odds.imgFirecrackerRight),Object(Ee.a)(n.odds.Bomb)),n.countChild=[],n.countIndex=0,n.timeDraw=null,n.isOverPlay=!1,n.propHint=[],n.propHintTime=null,n.arrImage=[{name:"imgPerson1",image:Ne.imgPerson1},{name:"imgLuckyBagLeft",image:Ne.imgLuckyBagLeft},{name:"imgLuckyBagRight",image:Ne.imgLuckyBagRight},{name:"imgLuckyBag2",image:Ne.imgLuckyBag2},{name:"imgBomb",image:Ne.imgBomb},{name:"imgFirecrackerLeft",image:Ne.imgFirecrackerLeft},{name:"imgFirecrackerRight",image:Ne.imgFirecrackerRight},{name:"imgVipjr",image:Ne.imgVipjr},{name:"imgAdd1",image:Ne.imgAdd1},{name:"imgAdd2",image:Ne.imgAdd2},{name:"imgMinus2",image:Ne.imgMinus2}],n.imageElement={imgPerson1:null,imgLuckyBag2:null,imgLuckyBagLeft:null,imgLuckyBagRight:null,imgFirecrackerLeft:null,imgFirecrackerRight:null,imgBomb:null,imgVipjr:null,imgAdd1:null,imgAdd2:null,imgMinus2:null},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this.screen,t=e.innerWidth,a=e.innerHeight;this.canvas=this.refs.canvas,this.canvas.width=t,this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.imageLoad()}},{key:"componentWillUnmount",value:function(){!this.isOverPlay&&this.countChild.length>0&&this.commGamerOver(),this.clearTime()}},{key:"clearTime",value:function(){clearTimeout(this.countTime),clearTimeout(this.onceTime),clearTimeout(this.threeTime),cancelAnimationFrame(this.timeBlock)}},{key:"_initState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({total:e,countDown:ke})}},{key:"countToThree",value:function(){var e=3,t=this;this.setState({countThree:e}),this.isOneOver=!1,this.isOverPlay=!1,clearTimeout(this.threeTime),this.threeTime=setTimeout(function a(){if(0===e&&t.startDiamond(),e<0)return clearTimeout(t.threeTime),t.againDraw(),!1;e--,t.setState({countThree:e}),t.threeTime=setTimeout(a,1e3)},1e3)}},{key:"startDiamond",value:function(){var e=this,t=this.screen.innerWidth,a=ke,n=this.propertys,r=this.probability,i=this.probability.length,o=this.imageElement,c=this.odds,s=c.imgFirecrackerLeft,l=c.imgFirecrackerRight,u=c.Bomb;clearTimeout(this.countTime),this.countTime=setTimeout(function t(){if(a--,e.setState({countDown:a}),a<=0||e.isOverPlay)return e.commGamerOver(),a=0,clearTimeout(e.countTime),!1;e.countTime=setTimeout(t,1e3)},0),clearTimeout(this.onceTime),this.onceTime=setTimeout(function c(){if(a<=0)return clearTimeout(e.onceTime),!1;var m=be(1,3);a>ke-15&&a<=ke-10&&(m=be(3,6));for(var p=0;p<m;p++){var h=i,d=be(4,10,100);a>ke-10&&(h=h-s.length-l.length-u.length),a>ke-15&&a<=ke-10&&(h=h-s.length-l.length-u.length,d=be(8,14,100));var f=n[r[be(0,h)]],g=o[f.element];e.countChild.push({id:e.countIndex,width:g.width,height:g.height,top:-g.height,left:be(0,t-g.width,100),step:d,property:f,isPlay:!1}),e.countIndex++}e.onceTime=setTimeout(c,500)},0)}},{key:"againDraw",value:function(){var e=this,t=this.ctx,a=this.screen,n=a.innerWidth,r=a.innerHeight;cancelAnimationFrame(this.timeDraw),this.timeDraw=requestAnimationFrame(function a(){t.clearRect(0,0,n,r),e.timeDraw=requestAnimationFrame(a),e.drawPreson(),e.drawProps(),e.drawPropHint()})}},{key:"pushPropHint",value:function(e){if(!e.property.propHint)return!1;var t=this,a=this.imageElement[e.property.propHint],n=this.propHint;this.propHint.push({width:a.width,height:a.height,top:parseInt(e.top,10),left:parseInt(e.left,10),originalTop:parseInt(e.top,10),property:e.property}),cancelAnimationFrame(this.propHintTime),this.propHintTime=requestAnimationFrame(function e(){for(var a=0,r=n.length;a<r;a++){var i=n[a];if(i.top-=1,i.top<i.originalTop-20){t.propHint.splice(a,1),cancelAnimationFrame(t.propHintTime);break}}t.propHint.length&&(t.propHintTime=requestAnimationFrame(e))})}},{key:"drawPropHint",value:function(){for(var e=this.ctx,t=this.propHint,a=this.imageElement,n=0,r=t.length;n<r;n++){var i=t[n];e.beginPath(),e.drawImage(a[i.property.propHint],i.left+i.width/2,i.top+i.height/2,i.width,i.height)}}},{key:"drawProps",value:function(){for(var e=this,t=this.ctx,a=this.countChild,n=this.imageElement,r=this.screen.innerHeight,i=this.person,o=i.perLeft,c=i.perTop,s=i.potWidth,l=i.potHeight,u=i.potTop,m=i.potOffsetLeft,p=function(i,p){var h=a[i];if(h.top<r){h.top+=h.step;var d=o-s/2-m,f=h.left;if(f>=d&&f+h.width<=d+s&&h.top+h.height>=c+u&&h.top+h.height<=c+u+l){if(window.WeixinJSBridge?window.WeixinJSBridge.invoke("getNetworkType",{},function(){e[h.property.audio].play()}):e[h.property.audio].play(),h.property.isBomb)return e.setState({isBomb:!0}),e.countChild=[],e.isOverPlay=!0,e.clearTime(),setTimeout(function(){e.commGamerOver(),e.setState({isBomb:!1})},1600),"break";if(e.setState(function(){return{total:e.state.total+h.property.value}}),e.pushPropHint(h),e.state.total<0)return e.setState({total:0}),e.clearTime(),e.commGamerOver(),"break";e.countChild=a.filter(function(e){return e.id!==h.id})}t.beginPath(),t.drawImage(n[h.property.element],h.left,h.top,h.width,h.height)}else e.countChild=a.filter(function(e){return e.id!==h.id})},h=0,d=a.length;h<d;h++){if("break"===p(h))break}}},{key:"commGamerOver",value:function(){if(this.isOneOver)return!1;this.isOneOver=!0,this.props.gamerOver(this.state.total),this.countChild=[],this.isOverPlay=!0}},{key:"imageLoad",value:function(){var e=this,t=0,a=this.arrImage;a.forEach(function(n){var r=new Image;r.src=n.image,e.imageElement[n.name]=r,r.onload=function(){++t===a.length&&e.drawPreson()},r.onerror=function(){console.log("\u56fe\u7247\u52a0\u8f7d\u5931\u8d25",t)}})}},{key:"drawPreson",value:function(){var e=this.ctx,t=this.person,a=t.perLeft,n=t.perTop,r=t.perWidth,i=t.perHeight;e.beginPath(),e.drawImage(this.imageElement.imgPerson1,a-r/2,n,r,i)}},{key:"handleStartCanvas",value:function(e){var t=e.touches[0].clientX;this.person.perStartLeft=2*t,this.person.lastPerLeft=0}},{key:"handleMoveCanvas",value:function(e){if(0===this.countChild.length)return!1;var t=this,a=this.screen.innerWidth,n=2*e.touches[0].clientX-this.person.perStartLeft,r=0;cancelAnimationFrame(t.person.time),t.person.time=requestAnimationFrame(function(){r=n-t.person.lastPerLeft,t.person.perLeft+=r,t.person.lastPerLeft=n,t.person.perLeft<0&&(t.person.perLeft=0),t.person.perLeft>a&&(t.person.perLeft=a),t.againDraw()})}},{key:"handleEndCanvas",value:function(){cancelAnimationFrame(this.person.time)}},{key:"clearRect",value:function(){var e=this.screen,t=e.innerWidth,a=e.innerHeight;this.ctx.clearRect(0,0,t,a),this.person=Object.assign({},this.constPerson),this.drawPreson()}},{key:"render",value:function(){var e=this,t=this.state.total||this.props.defaultTotal,a={};return t>999&&(a={fontSize:"20px"}),t>9999&&(a={fontSize:"16px"}),t>99999&&(a={fontSize:"14px"}),l.a.createElement("div",{className:"canvas"},l.a.createElement("canvas",{ref:"canvas",onTouchStart:this.handleStartCanvas.bind(this),onTouchMove:this.handleMoveCanvas.bind(this),onTouchEnd:this.handleEndCanvas.bind(this)}),l.a.createElement("div",{className:"top"},l.a.createElement("span",{className:"top__label time"},this.state.countDown),l.a.createElement("span",{className:"logo"}),l.a.createElement("span",{className:"top__label score",style:a},t)),l.a.createElement("div",{className:"count-wrap count--".concat(this.state.countThree)},l.a.createElement("img",{className:"count__img",src:Ne.imgNumberGo,alt:""}),l.a.createElement("img",{className:"count__img",src:Ne.imgNumber1,alt:""}),l.a.createElement("img",{className:"count__img",src:Ne.imgNumber2,alt:""}),l.a.createElement("img",{className:"count__img",src:Ne.imgNumber3,alt:""})),l.a.createElement("div",{style:{display:"none"}},l.a.createElement("audio",{ref:function(t){e.audioBag1=t},src:we,preload:"none"}),l.a.createElement("audio",{ref:function(t){e.audioBag2=t},src:je,preload:"none"}),l.a.createElement("audio",{ref:function(t){e.audioVipjr=t},src:Te,preload:"none"}),l.a.createElement("audio",{ref:function(t){e.audioFirecracker=t},src:Re,preload:"none"}),l.a.createElement("audio",{ref:function(t){e.audioBomb=t},src:_e,preload:"none"})),this.state.isBomb?l.a.createElement("img",{className:"bomb",src:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/prop/bomb-over.png",alt:""}):null)}}]),a}(s.Component),Pe=Object(p.b)(function(e){return{homeState:e.homeState,gamerInfo:e.homeState.gamerInfo,modal:e.homeState.modal,gameStartState:e.canvasState.gameStartState,userQty:e.canvasState.userQty,userPoint:e.canvasState.userPoint}},function(e){return Object(h.b)(xe,e)})(Ce);function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var De={UpdateModal:M,GameOver:function(e){return function(){var t=Object(D.a)(L.a.mark(function t(a){return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SAVE_USER_QTY",payload:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}},Ae=function(e){Object(T.a)(a,e);var t=Le(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).onRef=function(e){n.child=e},n.state={isShowGamePlay:!0},n.isOneOver=!1,n.isOnOff=!1,n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){document.body.addEventListener("touchmove",ve,{passive:!1,capture:!1})}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("touchmove",ve,{passive:!1,capture:!1})}},{key:"handlerGamePlay",value:function(){this.GameStart()}},{key:"GameStart",value:function(){this.setState({isShowGamePlay:!1}),this.props.UpdateModal({isGameOver:!1}),this.child._initState(0),this.props.GameOver({qty:0,ttlQty:this.props.userQty.ttlQty}),this.child.countToThree()}},{key:"gamerOver",value:function(e){this.props.GameOver({qty:e,ttlQty:this.props.userQty.ttlQty+e}),this.props.UpdateModal({isShare:!1,isGameOver:!0})}},{key:"handlerPlayAgain",value:function(){this.handlerGamePlay()}},{key:"render",value:function(){var e=this.props.modal,t=e.isGameOver,a=e.typeGameOver,n=this.props.userQty,r=n.clientScores,i=n.qty;return l.a.createElement("div",{className:"canvas"},l.a.createElement(Pe,{onRef:this.onRef,gamerOver:this.gamerOver.bind(this),defaultTotal:i||0}),t?l.a.createElement(ee,{isShow:!0,types:a,total:this.props.userQty.qty,qty:this.props.userQty.ttlQty,currentPoints:r,handlerPlayAgain:this.handlerPlayAgain.bind(this),btnRightText:"\u518d\u73a9\u4e00\u6b21"}):null,this.state.isShowGamePlay?l.a.createElement(ye,{isShow:!0,handlerGamePlay:this.handlerGamePlay.bind(this)}):null)}}]),a}(s.Component),Be=Object(p.b)(function(e){return{homeState:e.homeState,gamerInfo:e.homeState.gamerInfo,modal:e.homeState.modal,userQty:e.canvasState.userQty,isShare:e.canvasState.isShare,isSeniorEnter:e.canvasState.isSeniorEnter}},function(e){return Object(h.b)(De,e)})(Ae),Ge=a(109),Me=(a(381),a(383),a(385),function(e){var t=e.listData,a=e.userData,n=e.handlerStartGame,r=e.handlerShare,i=a.rank||0,o=a.ttl_qty||0;return i<=0&&(i="---",o="---"),l.a.createElement("div",{className:"ranking"},l.a.createElement("div",{className:"logo"}),l.a.createElement("h3",{className:"title"},"\u60a8\u5f53\u524d\u6392\u884c"),l.a.createElement("div",{className:"grade"},l.a.createElement("div",{className:"grade__list"},l.a.createElement("p",{className:"text"},i),l.a.createElement("p",{className:"desc"},"\u5f53\u524d\u6392\u540d")),l.a.createElement("div",{className:"grade__list"},l.a.createElement("p",{className:"text"},o),l.a.createElement("p",{className:"desc"},"\u7d2f\u79ef\u798f\u888b"))),l.a.createElement("h3",{className:"title"},"\u6e38\u620f\u6392\u884c\u699c"),l.a.createElement("p",{className:"sub-title"},"\u5c55\u793a\u524d50\u540d"),l.a.createElement("ul",{className:"seniority"},t.activityList?t.activityList.map(function(e,t){return l.a.createElement("li",{className:"list",key:t},l.a.createElement("span",{className:"no text-red"},"No.",e.rank),l.a.createElement("span",{className:"name"},e.name),l.a.createElement("span",{className:"text-red"},e.qty,"\u798f\u888b"))}):null),l.a.createElement("div",{className:"btn-wrap ".concat(e.isActivityEnd?"over":"")},l.a.createElement("button",{className:"btn-share",onClick:r}),l.a.createElement("button",{className:"btn-again",onClick:n})))}),He=function(e){return l.a.createElement("div",{className:"award"},l.a.createElement("h3",{className:"title"},"\u6392\u540d\u5956\u52b1"),l.a.createElement("img",{className:"img",src:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/seniority/award.png?v=1",alt:""}),l.a.createElement("div",{className:"explain"},l.a.createElement("h3",{className:"title"},"\u5956\u54c1\u5bc4\u9001"),l.a.createElement("div",{className:"explain__wrap"},l.a.createElement("p",{className:"explain__text"},"1.\xa0\xa0\u6e38\u620f\u6392\u540d\u4ee5\u6d3b\u52a8\u7ed3\u675f\u540e\u6392\u540d\u4e3a\u51c6\uff0c\u5982\u60a8\u6392\u540d\u572850\u540d\u4ee5\u5185\uff0c\u7cfb\u7edf\u5c06\u901a\u8fc7vipJr \u5fae\u4fe1\u670d\u52a1\u53f7\u53d1\u9001\u83b7\u5956\u5730\u5740\u586b\u5199\u5165\u53e3\uff0c\u5343\u4e07\u522b\u9519\u8fc7\u54e6~"),l.a.createElement("p",{className:"explain__text"},"2.\xa0\xa0\u5b9e\u7269\u5956\u54c1\u5c06\u5728\u60a8\u586b\u5199\u6536\u8d27\u4fe1\u606f\u540e\u768410\u4e2a\u5de5\u4f5c\u65e5\u5185\u5bc4\u51fa\u3002"))),l.a.createElement("button",{className:"btn-home",onClick:e.handlerReturnHome}))};var Ie="2018"+(new Date).getTime()+Math.floor(10*Math.random());function Ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var Fe={GetRankList:Ge.GetRankList,UpdateLoader:H,GetMemberRank:Ge.GetMemberRank,recordIsSeniorEnter:function(e){return{type:"RECORD_IS_SENIOR_ENTER",payload:e}},UpdateModal:M,PutTriggerAdd:Y},Ye=function(e){Object(T.a)(a,e);var t=Ue(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getRankData()}},{key:"getRankData",value:function(){var e,t=this,a=this.props.userCookie,n=a.clientSn,r=a.ticket,i=a.clientSnDEC,o=this.props,c=o.GetMemberRank,s=o.GetRankList;this.props.listData.activityList||this.props.UpdateLoader(!0),c({clientSn:n,ticket:r,clientSnDEC:i}),s({clientSn:n,ticket:r,clientSnDEC:i},function(){t.props.isLoader&&t.props.UpdateLoader(!1)},function(){t.props.isLoader&&t.props.UpdateLoader(!1)}),e=n||i,window.itgTracker&&window.itgTracker.trackEvent("PointsMallCampaign_RankingList_UV",e),window.itgTracker&&window.itgTracker.trackEvent("PointsMallCampaign_RankingList_PV",1)}},{key:"handlerStartGame",value:function(){var e=this.props.dateTime;if(e.currentTime>e.endTime)return!1;this.props.recordIsSeniorEnter(!0),this.props.history.push({pathname:"/canvas",search:this.props.location.search})}},{key:"handlerReturnHome",value:function(){this.props.history.push({pathname:"/",search:this.props.location.search})}},{key:"handlerShare",value:function(){var e=this.props.userCookie,t=e.clientSn,a=e.ticket,n=e.clientSnDEC;this.props.UpdateModal({isShare:!0}),this.props.PutTriggerAdd({clientSn:n||void 0,clientTicket:t?"".concat(t,"|").concat(a):"",eventId:Ie})}},{key:"render",value:function(){var e=this.props.dateTime,t=e.currentTime,a=e.endTime,n=this.props.listData,r=this.props.userData,i=t>a;return l.a.createElement("div",{className:"seniority"},l.a.createElement("div",{className:"bg"},l.a.createElement(Me,{listData:n,userData:r,isActivityEnd:i,handlerStartGame:this.handlerStartGame.bind(this),handlerShare:this.handlerShare.bind(this)}),l.a.createElement(He,{handlerReturnHome:this.handlerReturnHome.bind(this)})))}}]),a}(s.Component),We=Object(p.b)(function(e){return{userCookie:e.homeState.userCookie,listData:e.seniorityState.listData,userData:e.seniorityState.userData,isLoader:e.homeState.isLoader,dateTime:e.homeState.dateTime}},function(e){return Object(h.b)(Fe,e)})(Ye),Ve=(a(387),a(389),a(110));function Qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var Je={SendSmsVerificationCode:Ve.SendSmsVerificationCode,MGMLandingPage:Ve.MGMLandingPage,GetGamerInfo:U,saveUserCookie:A,UpdateLoader:H,UpdateModal:M,PutTriggerAdd:Y},qe=function(e){Object(T.a)(a,e);var t=Qe(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={cphone:"",verifyCode:"",age_area:"",name:"",errorText:"",countText:"\u53d1\u9001\u77ed\u4fe1\u9a8c\u8bc1\u7801",isPrompt:!1,promptText:""},n.time=null,n.timePrompt=null,n.isOnce=!1,n.isSubmit=!1,n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){clearTimeout(this.time),clearTimeout(this.timePrompt)}},{key:"callbackWxSharePY",value:function(){var e,t=this.props.userCookie,a=t.clientSn,n=t.clientSnDEC;this.callbackWxShare(),e=a||n,window.itgTracker&&window.itgTracker.trackEvent("PointsMallCampaign_Sharing_PY",e)}},{key:"callbackWxSharePYQ",value:function(){var e,t=this.props.userCookie,a=t.clientSn,n=t.clientSnDEC;this.callbackWxShare(),e=a||n,window.itgTracker&&window.itgTracker.trackEvent("PointsMallCampaign_Sharing_PYQ",e)}},{key:"callbackWxShare",value:function(){}},{key:"handlerInputChange",value:function(e,t){this.setState(Object(f.a)({},t,e.target.value))}},{key:"handlerInputFocus",value:function(){this.setState({errorText:""})}},{key:"handlerGetCode",value:function(){var e=this,t=this.state.cphone;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"86",a=/^(1[0-9]{2}|288)[0-9]{8}$/;[{nationCode:"86",verifyReg:/^(1[0-9]{2}|288)[0-9]{8}$/},{nationCode:"852",verifyReg:/^[5,6,9][0-9]{7}$/},{nationCode:"886",verifyReg:/^9[0-9]{8}$/},{nationCode:"81",verifyReg:/^0[5|6|7|8|9]0[0-9]{8}$/}].forEach(function(e){e.nationCode===t&&(a=e.verifyReg)});try{return!!a.test(e)}catch(n){}}(t)?!this.isOnce&&(this.isOnce=!0,this.countDown(),void this.props.SendSmsVerificationCode("Type=1&token=vipjrmgm&cphone=".concat(t),function(t){var a="";a=t.Success?"\u83b7\u53d6\u9a8c\u8bc1\u7801\u6210\u529f":"\u83b7\u53d6\u9a8c\u8bc1\u7801\u5931\u8d25",e.setState({isPrompt:!0,promptText:a}),e.timePrompt=setTimeout(function(){e.setState({isPrompt:!1})},2e3)})):(this.setState({errorText:"error__phone"}),!1)}},{key:"countDown",value:function(){var e=this,t=60,a=0;clearTimeout(this.time),this.time=setTimeout(function n(){if(a=t+"\u79d2\u540e\u91cd\u65b0\u53d1\u9001",e.setState({countText:a}),--t<0)return clearTimeout(e.time),e.setState({countText:"\u53d1\u9001\u77ed\u4fe1\u9a8c\u8bc1\u7801"}),e.isOnce=!1,!1;e.time=setTimeout(n,1e3)},0)}},{key:"handlerSubmit",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.isPrompt,n=t.promptText,r=t.cphone,i=t.verifyCode,o=t.name;return l.a.createElement("div",{className:"put-info ".concat(this.state.errorText)},l.a.createElement("div",{className:"input-wrap"},l.a.createElement("input",{className:"input__phone border",type:"tel",value:r||"",placeholder:"\u624b\u673a\u53f7",onChange:function(t){return e.handlerInputChange(t,"cphone")},onFocus:this.handlerInputFocus.bind(this)}),l.a.createElement("span",{className:"error-text error-phone"},"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7")),l.a.createElement("div",{className:"input-wrap"},l.a.createElement("input",{className:"input__code border",type:"tel",value:i||"",placeholder:"\u9a8c\u8bc1\u7801",onChange:function(t){return e.handlerInputChange(t,"verifyCode")},onFocus:this.handlerInputFocus.bind(this)}),l.a.createElement("span",{className:"error-text error-code"},"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"),l.a.createElement("span",{className:"error-text error-code-no"},"\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e"),l.a.createElement("button",{className:"btn_code border",onClick:this.handlerGetCode.bind(this)},this.state.countText)),l.a.createElement("div",{className:"input-wrap"},l.a.createElement("select",{className:"input__age border",onChange:function(t){return e.handlerInputChange(t,"age_area")},onFocus:this.handlerInputFocus.bind(this)},l.a.createElement("option",{value:""},"\u5e74\u9f84"),l.a.createElement("option",{value:"58"},"1\u5c81"),l.a.createElement("option",{value:"59"},"2\u5c81"),l.a.createElement("option",{value:"60"},"3\u5c81"),l.a.createElement("option",{value:"46"},"4\u5c81"),l.a.createElement("option",{value:"47"},"5\u5c81"),l.a.createElement("option",{value:"48"},"6\u5c81"),l.a.createElement("option",{value:"49"},"7\u5c81"),l.a.createElement("option",{value:"50"},"8\u5c81"),l.a.createElement("option",{value:"51"},"9\u5c81"),l.a.createElement("option",{value:"52"},"10\u5c81"),l.a.createElement("option",{value:"53"},"11\u5c81"),l.a.createElement("option",{value:"54"},"12\u5c81"),l.a.createElement("option",{value:"55"},"13\u5c81"),l.a.createElement("option",{value:"56"},"14\u5c81"),l.a.createElement("option",{value:"57"},"15\u5c81"),l.a.createElement("option",{value:"61"},"16\u5c81"),l.a.createElement("option",{value:"62"},"17\u5c81"),l.a.createElement("option",{value:"63"},"18\u5c81"),l.a.createElement("option",{value:"24"},"18\u5c81\u4ee5\u4e0a")),l.a.createElement("i",{className:"arrow"}),l.a.createElement("span",{className:"error-text error-age"},"\u8bf7\u9009\u62e9\u5b66\u5458\u5e74\u9f84")),l.a.createElement("div",{className:"input-wrap"},l.a.createElement("input",{className:"input__name border",type:"text",value:o||"",placeholder:"\u5b66\u5458\u59d3\u540d\uff08\u9009\u586b\uff09",onChange:function(t){return e.handlerInputChange(t,"name")}})),l.a.createElement("button",{className:"btn-submit",onClick:this.handlerSubmit.bind(this)}),l.a.createElement(ne,{isShow:a,text:n}))}}]),a}(s.Component),$e=Object(p.b)(function(e){return{infoState:e.infoState,mgm:e.infoState.mgm,code:e.infoState.code,localhostSearch:e.homeState.localhostSearch,userCookie:e.homeState.userCookie,shareNum:e.canvasState.shareNum}},function(e){return Object(h.b)(Je,e)})(qe);function ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var Ke={},Xe=function(e){Object(T.a)(a,e);var t=ze(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"info-page"},l.a.createElement("img",{className:"logo",src:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/vipJr-logo.png",alt:""}),l.a.createElement("img",{className:"text",src:"https://source.tutorabc.com.cn/ext/images/website/vjr/landingpage/h5/newYearBag/info/text.png",alt:""}),l.a.createElement("p",{className:"text-sm"},"\u8fd8\u53ef\u514d\u8d39\u9886\u53d6\u4ef7\u503c298\u51431\u5bf91\u5916\u6559\u4f53\u9a8c\u8bfe"),l.a.createElement($e,this.props))}}]),a}(s.Component),Ze=Object(p.b)(function(e){return{}},function(e){return Object(h.b)(Ke,e)})(Xe);function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(_.a)(e);if(t){var r=Object(_.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(R.a)(this,a)}}var tt={saveUserCookie:A,saveLocalhostSearch:function(e){return{type:"SAVE_LOCALHOST_SEARCH",payload:e}},GetGamerInfo:U,UpdateLoader:H,GetServerTime:function(e){return function(){var t=Object(D.a)(L.a.mark(function t(a){var n;return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,"".GetServerTime(e);case 2:"1"===(n=t.sent).ResultCode&&a(I({currentTime:new Date(n.Data).getTime()}));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},GameEffectiveDate:function(e,t){return function(){var a=Object(D.a)(L.a.mark(function a(n){var r;return L.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,"".GameEffectiveDate(e);case 2:2e5===(r=a.sent).code&&(n(I({endTime:r.data})),"function"===typeof t&&t(r));case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}},at=function(e){Object(T.a)(a,e);var t=et(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return l.a.createElement(x.a,null,l.a.createElement("div",{className:"app"},l.a.createElement(C.a,{path:"/",component:pe}),l.a.createElement(C.a,{path:"/home",component:ge}),l.a.createElement(C.a,{path:"/canvas",component:Be}),l.a.createElement(C.a,{path:"/seniority",component:We}),l.a.createElement(C.a,{path:"/info",component:Ze})))}}]),a}(s.Component),nt=Object(p.b)(function(e){return{userCookie:e.homeState.userCookie}},function(e){return Object(h.b)(tt,e)})(at);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rt=N();m.a.render(l.a.createElement(p.a,{store:rt},l.a.createElement(nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[392,2,1]]]);
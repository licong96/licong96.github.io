"use strict";(self.webpackChunkknowledge=self.webpackChunkknowledge||[]).push([[2745],{5454:(e,l,r)=>{r.r(l),r.d(l,{data:()=>n});const n={key:"v-db375bb0",path:"/web-developer/front-end/utils/puppeteer.html",title:"Puppeteer - 生成图片",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"流程",slug:"流程",children:[]},{level:2,title:"参考",slug:"参考",children:[]},{level:2,title:"Linux 上的问题",slug:"linux-上的问题",children:[]}],filePathRelative:"web-developer/front-end/utils/puppeteer.md",git:{updatedTime:1652237139e3,contributors:[{name:"黎聪",email:"licong23@xdf.cn",commits:2},{name:"licong96",email:"licong19961204@gmail.com",commits:1}]}}},5969:(e,l,r)=>{r.r(l),r.d(l,{default:()=>w});var n=r(6252);const p=(0,n.Wm)("h1",{id:"puppeteer-生成图片",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#puppeteer-生成图片","aria-hidden":"true"},"#"),(0,n.Uk)(" Puppeteer - 生成图片")],-1),t={href:"http://www.puppeteerjs.com/",target:"_blank",rel:"noopener noreferrer"},i=(0,n.Uk)("v13.7 文档地址"),o={href:"https://learnku.com/docs/puppeteer/3.1.0",target:"_blank",rel:"noopener noreferrer"},a=(0,n.Uk)("3.1.0 文档地址"),u=(0,n.uE)('<h2 id="流程" tabindex="-1"><a class="header-anchor" href="#流程" aria-hidden="true">#</a> 流程</h2><ul><li><p>使用 generic-pool 创建连接池</p></li><li><p>设置最大实例数，防止服务器资源占禁</p></li><li><p>监听<code>load</code>事件之后再截图</p></li><li><p>传递 H5 项目页面地址过来，页面支持从地址栏中获得数据</p></li><li><p>支持传入动态参数</p></li><li><p>页面有过渡动画，要支持添加延迟时间</p></li><li><p>设置 screenshot.clip</p></li><li><p>post 请求</p></li><li><p>截图后上传到 oss</p></li><li><p>异常捕获</p></li></ul><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考" aria-hidden="true">#</a> 参考</h2>',3),d={href:"http://www.puppeteerjs.com/#?product=Puppeteer&version=v13.1.1&show=api-pagescreenshotoptions",target:"_blank",rel:"noopener noreferrer"},h=(0,n.Uk)("Puppeteer 文档"),m={href:"https://blog.guowenfh.com/2019/06/16/2019/puppeteer-pool/",target:"_blank",rel:"noopener noreferrer"},c=(0,n.Uk)("使用 generic-pool 优化 puppeteer 并发问题"),s={href:"https://www.thinbug.com/q/52573105",target:"_blank",rel:"noopener noreferrer"},W=(0,n.Uk)("元素屏幕截图的宽度和高度"),f=(0,n.Wm)("h2",{id:"linux-上的问题",tabindex:"-1"},[(0,n.Wm)("a",{class:"header-anchor",href:"#linux-上的问题","aria-hidden":"true"},"#"),(0,n.Uk)(" Linux 上的问题")],-1),k=(0,n.Wm)("p",null,"在 Linux 上不能像在 Windows 上一样使用，会报错，导致项目启动失败。",-1),g=(0,n.Wm)("p",null,[(0,n.Uk)("windows 系统本身自带 UI 界面，部署起来非常容易，Linux 上面需要安装很多东西，或者使用"),(0,n.Wm)("code",null,"Docker"),(0,n.Uk)("解决。")],-1),w={render:function(e,l){const r=(0,n.up)("OutboundLink");return(0,n.wg)(),(0,n.j4)(n.HY,null,[p,(0,n.Wm)("p",null,[(0,n.Wm)("a",t,[i,(0,n.Wm)(r)])]),(0,n.Wm)("p",null,[(0,n.Wm)("a",o,[a,(0,n.Wm)(r)])]),u,(0,n.Wm)("ul",null,[(0,n.Wm)("li",null,[(0,n.Wm)("p",null,[(0,n.Wm)("a",d,[h,(0,n.Wm)(r)])])]),(0,n.Wm)("li",null,[(0,n.Wm)("p",null,[(0,n.Wm)("a",m,[c,(0,n.Wm)(r)])])]),(0,n.Wm)("li",null,[(0,n.Wm)("p",null,[(0,n.Wm)("a",s,[W,(0,n.Wm)(r)])])])]),f,k,g],64)}}}}]);
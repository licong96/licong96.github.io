<div class="page">
    <div class="page__hd">
        <h1 class="page__title">RegExp</h1>
        <p class="page__desc">正则表达式</p>
    </div>
    <div class="page__bd page__bd_spacing">
      <div class="reg-exp__test">
          <h3 class="code-title">匹配测试</h3>
          <p class="code-desc">表示字符串中是否包含能与表达式模式匹配的字符串</p>
          <div class="code-pre">
            <p>console.log(/abc/.test("abcde"));</p>
            // → true
            <p>console.log(/abc/.test("abxde"));</p>
            // → false
          </div>
      </div>
      <div class="reg-exp__test">
          <h3 class="code-title">字符集</h3>
          <p class="code-desc">下面两个表达式都可以匹配包含数字的字符串</p>
          <div class="code-pre">
            <p>console.log(/[0123456789]/.test("in 1996"));</p>
            // → true
            <p>console.log(/[0-9]/.test("in 1996"));</p>
            // → true
          </div>
          <p class="code-desc">许多常见字符组都有自己的内置简写。 数字就是其中之一：\ d与[0-9]表示相同的东西。</p>
          <ul class="code-list">
            <li class="code-item"><span class="code">\d</span>任意数字符号</li>
            <li class="code-item"><span class="code">\w</span>字母和数字符号（单词符号）</li>
            <li class="code-item"><span class="code">\s</span>任意空白符号（空格，制表符，换行符等类似符号）</li>
            <li class="code-item"><span class="code">\D</span>非数字符号</li>
            <li class="code-item"><span class="code">\W</span>非字母和数字符号</li>
            <li class="code-item"><span class="code">\S</span>非空白符号</li>
            <li class="code-item"><span class="code">.</span> 除了换行符以外的任意符号</li>
            <li class="code-item"><span class="code">^</span> 来排除某个字符集</li>
            <li class="code-item"><span class="code">i</span> 不区分大小写</li>
          </ul>
      </div>
      <div class="reg-exp__test">
          <h3 class="code-title">部分模式重复</h3>
          <p class="code-desc">在正则表达式某个元素后面添加一个加号（+），表示该元素至少重复一次。因此/\d+/可以匹配一个或多个数字字符。</p>
          <div class="code-pre">
              <p>console.log(/'\d+'/.test("'123'"));</p>
              // → true
              <p>console.log(/'\d+'/.test("''"));</p>
              // → false
              <p>console.log(/'\d*'/.test("'123'"));</p>
              // → true
              <p>console.log(/'\d*'/.test("''"));</p>
              // → true
          </div>
          <p class="code-desc">我们可以使用花括号准确指明某个模式的出现次数。例如，在某个元素后加上{4}，则该模式需要出现且只能出现 4 次。也可以使用花括号指定一个范围：比如{2,4}表示该元素至少出现 2 次，至多出现 4 次。</p>
          <div class="code-pre">
              <p>let dateTime = /\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{2}/;</p>
              <p>console.log(dateTime.test("30-1-2003 8:45"));</p>
              // → true
          </div>
          <p class="code-desc">花括号中也可以省略逗号任意一侧的数字，表示不限制这一侧的数量。因此{,5}表示 0 到 5 次，而{5,}表示至少五次。</p>
      </div>
      <div class="reg-exp__test">
          <h3 class="code-title">子表达式分组</h3>
          <p class="code-desc">为了一次性对多个元素使用*或者+，那么你必须使用圆括号，创建一个分组。对于后面的操作符来说，圆括号里的表达式算作单个元素。</p>
          <div class="code-pre">
              <p>let cartoonCrying = /boo+(hoo+)+/i;</p>
              <p>console.log(cartoonCrying.test("Boohoooohoohooo"));</p>
              // → true
          </div>
          <p class="code-desc">第一个和第二个<span class="code">+</span>字符分别作用于<span class="code">boo</span>与<span class="code">boo</span>的<span class="code">0</span>字符，
            而第三个+字符则作用于整个元组（<span class="code">hoo+</span>），可以匹配<span class="code">hoo+</span>这种正则表达式出现一次及一次以上的情况。</p>
          <div class="code-pre">
              <p>let dateTime = /\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{2}/;</p>
              <p>console.log(dateTime.test("30-1-2003 8:45"));</p>
              // → true
          </div>
          <p class="code-desc">示例中表达式末尾的<span class="code">i</span>表示正则表达式不区分大小写，虽然模式中使用小写字母，但可以匹配输入字符串中的大写字母B。</p>
      </div>
      <div class="reg-exp__test">
          <h3 class="code-title">匹配和分组</h3>
          <p class="code-desc">test方法是匹配正则表达式最简单的方法。该方法只负责判断字符串是否与某个模式匹配。正则表达式还有一个exec（执行，execute）方法，如果无法匹配模式则返回null，否则返回一个表示匹配字符串信息的对象。</p>
          <div class="code-pre">
              <p>let match = /\d+/.exec("one two 100");</p>
              <p>console.log(match);</p>
              // match => [
                            groups: undefined,
                            index: 8,
                            input: "one two 100",
                            length: 1
                          ]
              <p>console.log(match.index);</p>
              // → 8
          </div>
          <p class="code-desc">exec方法返回的对象包含index属性，表示字符串成功匹配的起始位置。除此之外，该对象看起来像（而且实际上就是）一个字符串数组，其首元素是与模式匹配的字符串——在上面的例子中就是我们查找的数字序列。</p>
      </div>

    </div>
    <div class="page__ft">
        <a href="javascript:home()"><img src="./images/icon_footer_link.png" /></a>
    </div>
</div>
<script type="text/javascript">
    $(function(){
      var index = {
        init() {
          
          console.log(this.getDate('2018-07-01'));

          // this.test3();
          // this.test2();
          // this.test1();
        },
        getDate(string) {
          // console.log(/(\d{4})-(\d{1,2})-(\d{1,2})/.exec(string));

          let [_, year, month, day] = /(\d{4})-(\d{1,2})-(\d{1,2})/.exec(string);

          return new Date(year, month - 1, day);
        },
        test3() {
          let match = /\d+/.exec("one two 100");
          // console.log(Array.isArray(match));
          // → true
          // console.log(match);
          // console.log(match.index);
          // → 8

          // console.log("one two 100 pp 77".match(/\d+/));

          let quotedText = /'([^']*)'/;
          console.log(quotedText.exec("she said 'hello'"));
        },
        test2() {

          // let dateTime = /\d\d\d\d-\d\d-\d\d \d\d:\d\d/;
          let dateTime = /\d{4}-\d{1,2}-\d{1,2} \d{1,2}:\d{2}/;
          console.log(dateTime.test('2018-07-01 09:23'));

          // console.log(/[0123456789]/.test("in 1996"));
          // // → true
          // console.log(/[0-9]/.test("in 1996"));
          // → true
        },
        test1() {
          // 表示字符串中是否包含能与表达式模式匹配的字符串
          console.log(/abc/.test("abcde"));
          // → true
          console.log(/abc/.test("abxde"));
          // → false
        }
      };
      index.init();
    });
</script>
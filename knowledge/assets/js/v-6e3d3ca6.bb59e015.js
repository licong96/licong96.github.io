"use strict";(self.webpackChunkknowledge=self.webpackChunkknowledge||[]).push([[3766],{3626:(t,d,e)=>{e.r(d),e.d(d,{data:()=>r});const r={key:"v-6e3d3ca6",path:"/web-developer/back-end/practice/nursery.html",title:"练习-托育项目",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"需求",slug:"需求",children:[{level:3,title:"功能点",slug:"功能点",children:[]},{level:3,title:"技术选型",slug:"技术选型",children:[]},{level:3,title:"项目分层结构",slug:"项目分层结构",children:[]}]},{level:2,title:"数据库结构设计",slug:"数据库结构设计",children:[{level:3,title:"概要设计",slug:"概要设计",children:[]},{level:3,title:"逻辑设计",slug:"逻辑设计",children:[]},{level:3,title:"开发路由与接口",slug:"开发路由与接口",children:[]}]},{level:2,title:"需要补充的知识",slug:"需要补充的知识",children:[]}],filePathRelative:"web-developer/back-end/practice/nursery.md",git:{updatedTime:1650512276e3,contributors:[{name:"黎聪",email:"licong23@xdf.cn",commits:2}]}}},8895:(t,d,e)=>{e.r(d),e.d(d,{default:()=>a});const r=(0,e(6252).uE)('<h1 id="练习-托育项目" tabindex="-1"><a class="header-anchor" href="#练习-托育项目" aria-hidden="true">#</a> 练习-托育项目</h1><h2 id="需求" tabindex="-1"><a class="header-anchor" href="#需求" aria-hidden="true">#</a> 需求</h2><ul><li>H5</li><li>CMS</li><li>Node 服务</li></ul><h3 id="功能点" tabindex="-1"><a class="header-anchor" href="#功能点" aria-hidden="true">#</a> 功能点</h3><ul><li>家长端，手机号，验证码登录</li><li>教师端，邮箱密码登录</li><li>每日评价数据保存</li><li>每月评价数据保存</li><li>家长端是否阅读过消息</li><li>切换学员</li></ul><h3 id="技术选型" tabindex="-1"><a class="header-anchor" href="#技术选型" aria-hidden="true">#</a> 技术选型</h3><p>使用 Vue 开发 CMS 系统，API 使用一套 Node 服务器。</p><p>构建完整的架构，添加 API 参数校验工具，添加全局异常处理，统一错误信息，密码加密，使用<code>jwt</code>生成用户令牌</p><h3 id="项目分层结构" tabindex="-1"><a class="header-anchor" href="#项目分层结构" aria-hidden="true">#</a> 项目分层结构</h3><p>在<code>controller</code>中定义路由，接受参数和返回结果。</p><p>在<code>service</code>中编写具体的业务逻辑。</p><p>在<code>model</code>中定义模型，且操作数据库。</p><h2 id="数据库结构设计" tabindex="-1"><a class="header-anchor" href="#数据库结构设计" aria-hidden="true">#</a> 数据库结构设计</h2><h3 id="概要设计" tabindex="-1"><a class="header-anchor" href="#概要设计" aria-hidden="true">#</a> 概要设计</h3><ul><li><p>轮播模块数据表</p><ul><li>ID（主键）、模块名称、模块类型、模块排序值、图片、跳转链接</li></ul></li><li><p>学员信息表</p><ul><li>ID（主键）、学员号、学员姓名、学员性别、看护教师邮箱、看护教师姓名、家长手机号</li></ul></li><li><p>家长信息表</p><ul><li>家长手机号（主键）、密码</li></ul></li><li><p>教师信息表</p><ul><li>教师邮箱（主键）、密码、教师姓名</li></ul></li><li><p>每日评价表</p><ul><li>ID（主键）、学员号、教师邮箱、家长手机号、评价状态、评价时间、已读手机号、在园数据、图片评论</li></ul></li><li><p>月度评价表</p><ul><li>ID（主键）、学员号、教师邮箱、家长手机号、评价状态、评价时间、已读手机号、主题内容、教学目标、详细信息、本月进步、童言童语、难忘的事、想对爸爸妈妈说的</li></ul></li></ul><h3 id="逻辑设计" tabindex="-1"><a class="header-anchor" href="#逻辑设计" aria-hidden="true">#</a> 逻辑设计</h3><h4 id="轮播模块数据表nursery-banner" tabindex="-1"><a class="header-anchor" href="#轮播模块数据表nursery-banner" aria-hidden="true">#</a> 轮播模块数据表<code>nursery_banner</code></h4><table><thead><tr><th>字段名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>id(PK)</td><td>int</td><td>主键</td></tr><tr><td>name</td><td>varchar(128)</td><td>模块名称</td></tr><tr><td>type</td><td>varchar(32)</td><td>模块类型</td></tr><tr><td>index</td><td>int(2)</td><td>模块排序值</td></tr><tr><td>images</td><td>varchar(256)</td><td>图片，多张图片用<code>,</code>分割</td></tr><tr><td>link</td><td>varchar(128)</td><td>跳转链接</td></tr></tbody></table><h4 id="学员信息表nursery-user-info" tabindex="-1"><a class="header-anchor" href="#学员信息表nursery-user-info" aria-hidden="true">#</a> 学员信息表<code>nursery_user_info</code></h4><table><thead><tr><th>字段名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>id(PK)</td><td>int</td><td>主键</td></tr><tr><td>userCode(UK)</td><td>varchar(32)</td><td>学员号</td></tr><tr><td>userName</td><td>varchar(8)</td><td>学员姓名</td></tr><tr><td>userSex</td><td>varchar(4)</td><td>学员性别</td></tr><tr><td>teacherEmail</td><td>varchar(64)</td><td>看护教师邮箱</td></tr><tr><td>teacherName</td><td>varchar(64)</td><td>看护教师姓名</td></tr><tr><td>parentPhone</td><td>varchar(64)</td><td>家长手机号</td></tr></tbody></table><h4 id="家长信息表nursery-parent-info" tabindex="-1"><a class="header-anchor" href="#家长信息表nursery-parent-info" aria-hidden="true">#</a> 家长信息表<code>nursery_parent_info</code></h4><table><thead><tr><th>字段名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>id(PK)</td><td>int</td><td>主键</td></tr><tr><td>phone(UK)</td><td>varchar(64)</td><td>家长手机号</td></tr><tr><td>password</td><td>varchar(64)</td><td>密码</td></tr></tbody></table><h4 id="教师信息表nursery-teacher-info" tabindex="-1"><a class="header-anchor" href="#教师信息表nursery-teacher-info" aria-hidden="true">#</a> 教师信息表<code>nursery_teacher_info</code></h4><table><thead><tr><th>字段名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>id(PK)</td><td>int</td><td>主键</td></tr><tr><td>email(UK)</td><td>varchar(64)</td><td>教师邮箱</td></tr><tr><td>name</td><td>varchar(64)</td><td>教师姓名</td></tr><tr><td>password</td><td>varchar(64)</td><td>密码</td></tr></tbody></table><h4 id="每日评价表nursery-day-evaluation" tabindex="-1"><a class="header-anchor" href="#每日评价表nursery-day-evaluation" aria-hidden="true">#</a> 每日评价表<code>nursery_day_evaluation</code></h4><table><thead><tr><th>字段名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>id(PK)</td><td>int</td><td>主键</td></tr><tr><td>userCode(UK)</td><td>varchar(32)</td><td>学员号</td></tr><tr><td>teacherEmail</td><td>varchar(64)</td><td>看护教师邮箱</td></tr><tr><td>parentPhone</td><td>varchar(64)</td><td>家长手机号</td></tr><tr><td>state</td><td>int(2)</td><td>评价状态</td></tr><tr><td>date</td><td>date</td><td>评价时间</td></tr><tr><td>isReadPhone</td><td>varchar(64)</td><td>已读手机号</td></tr><tr><td>appraiseInfo</td><td>varchar(256)</td><td>在园数据</td></tr><tr><td>appraiseText</td><td>varchar(1024)</td><td>在园评价</td></tr><tr><td>appraisePicUrl</td><td>varchar(256)</td><td>在园图片</td></tr></tbody></table><h4 id="月度评价表nursery-monthly-evaluation" tabindex="-1"><a class="header-anchor" href="#月度评价表nursery-monthly-evaluation" aria-hidden="true">#</a> 月度评价表<code>nursery_monthly_evaluation</code></h4><table><thead><tr><th>字段名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>id(PK)</td><td>int</td><td>主键</td></tr><tr><td>userCode(UK)</td><td>varchar(32)</td><td>学员号</td></tr><tr><td>teacherEmail</td><td>varchar(64)</td><td>看护教师邮箱</td></tr><tr><td>parentPhone</td><td>varchar(64)</td><td>家长手机号</td></tr><tr><td>state</td><td>int(2)</td><td>评价状态</td></tr><tr><td>date</td><td>date</td><td>评价时间</td></tr><tr><td>isReadPhone</td><td>varchar(64)</td><td>已读手机号</td></tr><tr><td>subjectContent</td><td>varchar(1024)</td><td>主题内容</td></tr><tr><td>teachingTarget</td><td>varchar(1024)</td><td>教学目标</td></tr><tr><td>remark</td><td>varchar(1024)</td><td>详细信息</td></tr><tr><td>monthImprove</td><td>varchar(1024)</td><td>本月提升情况</td></tr><tr><td>tyty</td><td>varchar(1024)</td><td>童言童语</td></tr><tr><td>teacherRemark</td><td>varchar(1024)</td><td>让老师难忘的事</td></tr><tr><td>toParent</td><td>varchar(1024)</td><td>想对爸爸妈妈说的</td></tr></tbody></table><h3 id="开发路由与接口" tabindex="-1"><a class="header-anchor" href="#开发路由与接口" aria-hidden="true">#</a> 开发路由与接口</h3><h4 id="教师端" tabindex="-1"><a class="header-anchor" href="#教师端" aria-hidden="true">#</a> 教师端</h4><ul><li><p>教师登录：<code>post - /loginByTeacher</code></p><ul><li>入参：<code>email</code>, <code>password</code></li></ul></li><li><p>获取每日评价列表：<code>get - /getDayListByTeacher</code></p><ul><li>入参：<code>date</code>, <code>email</code></li></ul></li><li><p>获取每日评价详情：<code>get - /getDayDetailByTeacher</code></p><ul><li>入参：<code>id</code>, <code>email</code></li></ul></li><li><p>提交每日评价信息：<code>post - /postDayInfoByTeacher</code></p><ul><li>入参：<code>id</code>, <code>email</code>, <code>appraiseInfo</code>, <code>appraiseText</code>, <code>appraisePicUrl</code></li></ul></li><li><p>删除每日评价：<code>post - /delDayInfo</code></p><ul><li>入参： <code>id</code>, <code>email</code></li></ul></li><li><p>获取月度评价列表：<code>get - /getMonthListByTeacher</code></p><ul><li>入参：<code>date</code>, <code>email</code></li></ul></li><li><p>获取月度评价详情：<code>get - /getMonthDetailByTeacher</code></p><ul><li>入参： <code>id</code>, <code>email</code></li></ul></li><li><p>提交月度评价信息：<code>post - /postMonthInfoByTeacher</code></p><ul><li>入参：<code>id</code>, <code>email</code>, <code>subjectContent</code>, <code>teachingTarget</code>, <code>remark</code>, <code>monthImprove</code>, <code>tyty</code>, <code>teacherRemark</code>, <code>toParent</code></li></ul></li><li><p>删除月度评价：<code>post - /delMonthInfo</code></p><ul><li>入参： <code>id</code>, <code>email</code></li></ul></li></ul><h4 id="家长端" tabindex="-1"><a class="header-anchor" href="#家长端" aria-hidden="true">#</a> 家长端</h4><ul><li><p>家长登录：<code>post - /loginByParent</code></p></li><li><p>获取每日评价列表：<code>get - /getDayListByParent</code></p></li><li><p>获取每日评价详细：<code>get - /getDayDetailByParent</code></p></li><li><p>获取月度评价列表：<code>get - /getMonthListByParent</code></p></li><li><p>获取月度评价详细：<code>get - /getMonthDetailByParent</code></p></li></ul><h4 id="cms-系统" tabindex="-1"><a class="header-anchor" href="#cms-系统" aria-hidden="true">#</a> CMS 系统</h4><ul><li><p>获取轮播：<code>get - /getBanner</code></p></li><li><p>新建轮播：<code>post - /addBanner</code></p></li><li><p>编辑轮播：<code>put - /editBanner</code></p></li><li><p>删除轮播：<code>delete - /delBanner</code></p></li><li><p>新增学员：<code>post - /addNewStudent</code></p></li><li><p>编辑学员：<code>put - /editNewStudent</code></p></li><li><p>删除学员：<code>delete - /delNewStudent</code></p></li></ul><h2 id="需要补充的知识" tabindex="-1"><a class="header-anchor" href="#需要补充的知识" aria-hidden="true">#</a> 需要补充的知识</h2><ul><li>sequelize、关联、多表查询</li></ul>',37),a={render:function(t,d){return r}}}}]);